<div class="summary-container">
  <br>
  <h1>Your PooPal Summary</h1><br>

      <!-- recordsection -->
  <!-- <mat-card class="records-container"> -->
    <h3><mat-card-title>Your Last Poo</mat-card-title></h3>
    <div class="records-list">
      <mat-accordion multi="true">
        <mat-expansion-panel *ngFor="let record of dataSource?.data">
          <mat-expansion-panel-header>
            <mat-panel-title class="panel-title">
              <span class="timestamp">{{ record.timestamp }}</span>
              <span class="public">
                {{ record.pooWhere === 'home' ? 'üè† Home' : 'üåé Outside' }}
              </span>
              <span class="satisfactionLevel">
                {{
                  record.satisfactionLevel === 'Good' ? 'üòä Good' :
                  record.satisfactionLevel === 'Mid' ? 'üòê Mid' :
                  record.satisfactionLevel === 'Bad' ? 'üòû Bad' :
                  record.satisfactionLevel
                }}
                </span>
            </mat-panel-title>
          </mat-expansion-panel-header>
  
          <!-- xpanded Panel Content -->
          <div>
            <table class="record-table">
              <tr>
                <td><strong>Poo Type:</strong> {{ record.pooType }} <img [src]="'assets/bristol/' + record.pooType + '.png'" alt="Poo Type" style="height: 20px;"></td>
                <td><strong>Pain Before:</strong> {{ record.painBefore }}</td>
              </tr>
              <tr>
                <td><strong>Poo Color:</strong> {{ record.pooColor }} <img [src]="'assets/pooColors/' + record.pooColor + '.png'" alt="Poo Color" style="height: 20px;"></td>
                <td><strong>Pain During:</strong> {{ record.painDuring }}</td>
              </tr>
              <tr>
                <td><strong>Laxative Used:</strong> {{ record.laxative ? 'Yes' : 'No' }}</td>
                <td><strong>Pain After:</strong> {{ record.painAfter }}</td>
              </tr>
              <tr>
                <td><strong>Urgent:</strong> {{ record.urgent === 'yes' ? 'Urgent' : 'Not Urgent' }}</td>
                <td><strong>Bleeding:</strong> {{ record.bleeding ? 'Yes' : 'No' }}</td>
              </tr>
              <tr>
                <td colspan="2"><strong>Notes:</strong> {{ record.notes || 'No comments' }}</td>
              </tr>
            </table>
          </div>
  
          <mat-action-row>
            <button mat-flat-button color="primary" (click)="editRecord(record.id)">Edit</button>
            <button mat-flat-button color="primary" (click)="deleteRecord(record.id)">Delete</button>
          </mat-action-row>
        </mat-expansion-panel>
      </mat-accordion>
    </div>
  <!-- </mat-card> -->
   
  <br>
    <h3>Statistics</h3>
    <div class="grid-container">
      <mat-card class="stat-card">
        <mat-card-header>
          <mat-card-title>Total Poos</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <p>{{ pooCount }}</p>
        </mat-card-content>
      </mat-card>
  
      <mat-card class="stat-card">
        <mat-card-header>
          <mat-card-title>Top Poo Type</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <p><img [src]="'assets/bristol/' + topPooType + '.png'" alt="Poo Type" style="height: 50px;"> <br> {{ topPooType }}</p>
        </mat-card-content>
      </mat-card>
  
      <mat-card class="stat-card">
        <mat-card-header>
          <mat-card-title>Top Poo Color</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <p><img [src]="'assets/pooColors/' + topPooColor + '.png'" alt="Poo Color" style="height: 50px;"> <br> {{ topPooColor }}</p>
        </mat-card-content>
      </mat-card>
  
      <mat-card class="stat-card">
        <mat-card-header>
          <mat-card-title>Poo Urgency</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <p>{{ urgentCountYes }} Urgent <br> {{urgentCountNo}} Non Urgent </p>
        </mat-card-content>
      </mat-card>
  
      <mat-card class="stat-card">
        <mat-card-header>
          <mat-card-title>Poo Satisfaction</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <p>üòä {{ satisfyingCountGood }}<br>üòê {{ satisfyingCountMid }}<br>üòû {{ satisfyingCountBad }}</p>
        </mat-card-content>
      </mat-card>

      <mat-card class="stat-card">
        <mat-card-header>
          <mat-card-title>Days Since Last Poo</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <p>{{ daysSinceLastPoo }} day<span *ngIf="daysSinceLastPoo !== 1">s</span></p>
        </mat-card-content>
      </mat-card>
      
    </div>
  </div>
  